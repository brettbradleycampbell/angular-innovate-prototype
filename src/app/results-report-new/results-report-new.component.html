<div class="results-wrapper sbc-columns-wrapper">

  <div class="create-report-header" style="display: flex;">

    <button (click)="openResultsFilterDialog()" mat-stroked-button>
      <span>Add filter</span>
    </button>
    <button [matMenuTriggerFor]="breakoutMenu" mat-stroked-button style="margin-left: 12px;" class="icon-text-button icon-right">
      <span>Breakout</span>
      <mat-icon>arrow_drop_down</mat-icon>
    </button>
    <mat-menu #breakoutMenu="matMenu">
      <button mat-menu-item class="mat-menu-icon-item">
        <mat-icon>check</mat-icon>
        <span>None</span>
      </button>
      <hr>
      <button mat-menu-item class="mat-menu-icon-item">
        <mat-icon></mat-icon>
        <span>1 - What is your age?</span>
      </button>
      <button mat-menu-item class="mat-menu-icon-item">
        <mat-icon></mat-icon>
        <span>1 - What state do you live in?</span>
      </button>
      <button mat-menu-item class="mat-menu-icon-item">
        <mat-icon></mat-icon>
        <span>3 - Please rate your experience</span>
      </button>
    </mat-menu>


    <div class="page-header-button-outer">
      <button [matMenuTriggerFor]="shareMenu" mat-flat-button color="primary" class="icon-text-button icon-right">
        <span>Share</span>
        <mat-icon>arrow_drop_down</mat-icon>
      </button>
      <mat-menu #shareMenu="matMenu">
        <button mat-menu-item>Download PDF</button>
        <button mat-menu-item>Download CSV</button>
        <button mat-menu-item (click)="openShareLinkDialog()">Shareable Link</button>
      </mat-menu>
      <button mat-stroked-button style="margin-left: 12px;">
        <span>Settings</span>
      </button>
    </div>

  </div>

  <div class="sbc-column create-report-sidebar" id="" style="position: relative;">
      <a href="/results/reports" style="padding: 12px 12px 0; font-size: 80%; color: #666; display: block;">
        <mat-icon style="    width: auto;
      height: auto;
      font-size: 16px;
      position: relative;
      top: 3px;">chevron_left</mat-icon>Reports</a>
      <h3 class="page-header" style="margin-top: 8px; margin-left: 12px;">Custom Report 1</h3>

      <div class="" style="font-size: 14px; display: flex; justify-content: space-between; margin: 48px 12px 12px;">
        <mat-form-field appearance="outline" class="header-search" style="margin: 0; width: 100%; max-width: none;">
          <mat-icon matPrefix>search</mat-icon>
          <input matInput placeholder="search questions">
          <mat-icon matSuffix style="opacity: 0.4;">close</mat-icon>
        </mat-form-field>
      </div>

      <div class="" style="font-size: 14px; display: flex; align-items: center; margin: 12px; justify-content: space-between;">

        <div class="">
          <mat-checkbox></mat-checkbox>
          <button [matMenuTriggerFor]="actionMenu" mat-stroked-button style="padding: 0 2px 0 8px; margin-left: 12px;">Action <mat-icon>arrow_drop_down</mat-icon></button>
          <mat-menu #actionMenu="matMenu">
            <button mat-menu-item>Duplicate</button>
            <button mat-menu-item>Hide</button>
            <button mat-menu-item>Favorite</button>
            <!-- <button mat-menu-item [matMenuTriggerFor]="reports">Move</button> -->
            <hr>
            <button mat-menu-item>Delete</button>
          </mat-menu>
        </div>

        <div class="">
          <button [matMenuTriggerFor]="filterMenu" mat-stroked-button style="padding: 0 2px 0 8px;">Filter <mat-icon>arrow_drop_down</mat-icon></button>
          <mat-menu #filterMenu="matMenu">
            <button mat-menu-item class="mat-menu-icon-item">
              <mat-icon>check</mat-icon>
              <span>All questions</span>
            </button>
            <button mat-menu-item class="mat-menu-icon-item">
              <mat-icon></mat-icon>
              <span>Included in report</span>
            </button>
            <button mat-menu-item class="mat-menu-icon-item">
              <mat-icon></mat-icon>
              <span>Favorites</span>
            </button>
          </mat-menu>
        </div>

      </div>

      <ul class="nav-list respondent-nav-list report-questions-nav-list">
        <li *ngFor="let question of questions; let first = first; let last = last">
          <mat-checkbox></mat-checkbox>
          <span class="report-sidebar-question-text">{{question.id}} - {{question.questionText}}</span>
          <div class="" style="margin-left: auto; align-items: center; display: flex;">
            <button mat-icon-button class="favorite-respondent">
              <mat-icon>star_outline</mat-icon>
            </button>
            <mat-icon>drag_indicator</mat-icon>
          </div>
        </li>
        <li class="hidden-report-question">
          <mat-checkbox></mat-checkbox>
          <span class="report-sidebar-question-text">2 - What state do you live in?</span>
          <div class="" style="margin-left: auto; align-items: center; display: flex;">
            <button mat-icon-button class="favorite-respondent">
              <mat-icon>star_outline</mat-icon>
            </button>
            <mat-icon>drag_indicator</mat-icon>
          </div>
        </li>
      </ul>

      <div class="button-container-brain" style="width: 100%; position: absolute; bottom: 0; padding: 12px; background: #fff; border-top: 1px solid #d1d1d1;">
        <button mat-flat-button color="primary" style="width: 100%;"><mat-icon>add</mat-icon>Add New Page</button>
      </div>
  </div>

  <div class="sbc-column results-summary-container" id="" style="padding: 32px; padding-top: 98px; box-shadow: inset -1px 0px 0px 0px #e1e1e1">
  <!-- -->


    <!-- Question -->
    <div class="sbc-question-outer report-question-outer"
    *ngFor="let question of questions; let first = first; let last = last"
    (click)="onSelect(question)"
    [class.selected]="question === selectedQuestion"
    [ngClass]="{ first: first, last: last, 'page-break':question.questionType === 'pageBreak'}">
      <div class="sbc-question-inner" *ngIf="question.questionType !== 'pageBreak'">

        <div class="sbc-question-header">
          <!-- <div class="" style="position: absolute; font-size: 12px; opacity: 0.25; top: 8px; right: 8px;">
            {{question.reportingVisualizationType}}
          </div> -->
          <div class="sbc-question-title">
            {{question.id}} - {{question.questionText}}
          </div>
          <div class="sbc-question-icons">
            <button mat-icon-button [matMenuTriggerFor]="qMenu" class="report-page-menu-button">
              <mat-icon>more_horiz</mat-icon>
            </button>

            <mat-menu #qMenu="matMenu">
              <button mat-menu-item>Duplicate</button>
              <button mat-menu-item>Hide</button>
              <button mat-menu-item>Favorite</button>
              <!-- <button mat-menu-item [matMenuTriggerFor]="reports">Move</button> -->
              <hr>
              <button mat-menu-item>Delete</button>
            </mat-menu>

          </div>
        </div>
        <div class="report-element-outer selected" *ngIf="question.reportingVisualizationType !== 'Multiple'">

          <button mat-icon-button [matMenuTriggerFor]="qrMenu" class="report-element-menu-button">
            <mat-icon>more_horiz</mat-icon>
          </button>
          <mat-menu #qrMenu="matMenu">
            <button mat-menu-item>Duplicate</button>
            <hr>
            <button mat-menu-item>Delete</button>
          </mat-menu>

          <div *ngIf="question.reportingVisualizationType == 'Bar Chart'" >
            <!-- <img style="max-width: 100%;" src="/assets/images/bar_chart.png?raw=true"> -->
            <img style="max-width: 100%;" src="https://github.com/brettbradleycampbell/angular-innovate-prototype/blob/master/src/assets/images/bar_chart.png?raw=true">
          </div>
          <div *ngIf="question.reportingVisualizationType == 'Line Graph'" [ngClass]="{ 'no-select-hack':question.reportingVisualizationType === 'Multiple'}">
            <!-- <img style="max-width: 100%;" src="/assets/images/line_graph.png?raw=true"> -->
            <img style="max-width: 100%;" src="https://github.com/brettbradleycampbell/angular-innovate-prototype/blob/master/src/assets/images/line_graph.png?raw=true">
          </div>
          <div *ngIf="question.reportingVisualizationType == 'Pie Chart'" [ngClass]="{ 'no-select-hack':question.reportingVisualizationType === 'Multiple'}" >
            <!-- <img style="max-width: 100%;" src="/assets/images/pie_chart.png?raw=true"> -->
            <img style="max-width: 100%;" src="https://github.com/brettbradleycampbell/angular-innovate-prototype/blob/master/src/assets/images/pie_chart.png?raw=true">
          </div>
          <div *ngIf="question.reportingVisualizationType == 'Table'" [ngClass]="{ 'no-select-hack':question.reportingVisualizationType === 'Multiple'}" >
            <table class="answer-data-summary-table" cellspacing=0>
              <tr>
                <th>Answer choice</th>
                <th>Percentage</th>
                <th>Responses</th>
              </tr>
              <tr class="" *ngFor="let answers of question.answers">
                <td class="">{{answers}}</td>
                <td class="">20%</td>
                <td class="">25</td>
              </tr>
            </table>
          </div>

          <div class="vertical-split-button-outer button-move-question button-move-report-element">
            <button mat-button class="move-question-up">
              <mat-icon>arrow_upward</mat-icon>
            </button>
            <button mat-button class="move-question-down">
              <mat-icon>arrow_downward</mat-icon>
            </button>
          </div>

        </div>

      </div>


      <!-- <div class="" style="display: flex; width: 100%; padding: 24px; justify-content: center;">
        <button mat-stroked-button style="margin: 12px;">Add text/image</button>
        <button mat-flat-button color="primary" style="margin: 12px;">Add chart</button>
      </div> -->

      <div class="button-add-chart-container">
        <div class="split-button-outer button-add-question button-add-chart">
          <button mat-button class="split-button-left">
            <mat-icon>add</mat-icon>
          </button>
          <button mat-button [matMenuTriggerFor]="addQuestionMenu" class="split-button-right">
            <mat-icon>arrow_drop_down</mat-icon>
          </button>
          <mat-menu #addQuestionMenu="matMenu" yPosition="below">
            <button mat-menu-item>
              <mat-icon>bar_chart</mat-icon>
              <span>Bar Chart</span>
            </button>
            <button mat-menu-item>
              <mat-icon>show_chart</mat-icon>
              <span>Line Graph</span>
            </button>
            <button mat-menu-item>
              <mat-icon>pie_chart</mat-icon>
              <span>Pie Chart</span>
            </button>
            <button mat-menu-item>
              <mat-icon>table_chart</mat-icon>
              <span>Data Table</span>
            </button>
            <hr>
            <button mat-menu-item>
              <mat-icon>notes</mat-icon>
              <span>Text</span>
            </button>
            <button mat-menu-item>
              <mat-icon>image</mat-icon>
              <span>Image</span>
            </button>
          </mat-menu>
        </div>
      </div>




    </div> <!-- / Report Question Outer-->


  <!-- -->
  </div>

  <div class="sbc-column settings-menu" id="" style="padding-top: 98px;">
    <app-results-report-settings></app-results-report-settings>
  </div>


</div>
